{
    "Logging": {
        "LogLevel": {
            "Default": "Information",
            "Microsoft.AspNetCore": "Warning"
        }
    },
    "ConnStr": "Data Source=chinook.db",
    "AllowedHosts": "*",
    "SQLStrings": {
        "Artist": {
            "Create": "INSERT INTO artists (Name) VALUES (@Name) RETURNING ArtistId AS ID",
            "Read": "SELECT ArtistId AS ID, Name FROM artists WHERE ArtistId = ?@ID",
            "Update": "UPDATE artists SET Name = @Name WHERE ArtistId = @ID",
            "Delete": "DELETE FROM tracks WHERE AlbumId IN (SELECT AlbumId FROM albums WHERE ArtistId = @ID); DELETE FROM albums WHERE ArtistId = @ID; DELETE FROM artists WHERE ArtistId = @ID;"
        },
        "Album": {
            "Create": "INSERT INTO albums (Title, ArtistId) VALUES (@Title, @ArtistId) RETURNING AlbumId AS ID",
            "Read": "SELECT a.AlbumId AS ID, a.Title, /*GetAll*/a.ArtistId AS ArtistID&, ar.Name AS ArtistName FROM albums a /*GetAll*/INNER JOIN artists ar ON a.ArtistId = ar.ArtistId WHERE a.AlbumId = ?@ID AND a.ArtistId = ?@ArtistID",
            "Update": "UPDATE albums SET Title = ?@Title, ArtistId = ?@ArtistId WHERE AlbumId = @ID",
            "Delete": "DELETE FROM tracks WHERE AlbumId = @ID; DELETE FROM albums WHERE AlbumId = @ID;"
        },
        "Track": {
            "Create": "INSERT INTO tracks (Name, AlbumId, MediaTypeId, GenreId, Composer, Milliseconds, Bytes, UnitPrice) VALUES (@Name, @AlbumId, @MediaTypeId, @GenreId, @Composer, @Milliseconds, @Bytes, @UnitPrice) RETURNING TrackId AS ID",
            "Read": "SELECT t.TrackId AS ID, t.Name, t.Composer, t.Milliseconds, t.Bytes, t.UnitPrice, /*GetAll*/t.AlbumId AS AlbumID&, al.Title AS AlbumTitle&, al.ArtistId AS AlbumArtistID&, art.Name AS AlbumArtistName, t.MediaTypeId AS MediaTypeID, mt.Name AS MediaTypeName, t.GenreId AS GenreID, g.Name AS GenreName FROM tracks t /*GetAll*/INNER JOIN albums al ON t.AlbumId = al.AlbumId /*GetAll*/INNER JOIN Artists art ON art.ArtistId = al.ArtistID INNER JOIN media_types mt ON t.MediaTypeId = mt.MediaTypeId INNER JOIN genres g ON t.GenreId = g.GenreId WHERE t.TrackId = ?@ID AND t.AlbumId = ?@AlbumID",
            "Update": "UPDATE tracks SET Name = ?@Name, AlbumId = ?@AlbumId, MediaTypeId = ?@MediaTypeId, GenreId = ?@GenreId, Composer = ?@Composer, Milliseconds = ?@Milliseconds, Bytes = ?@Bytes, UnitPrice = ?@UnitPrice WHERE TrackId = @ID",
            "Delete": "DELETE FROM playlist_track WHERE TrackId = @ID; DELETE FROM invoice_items WHERE TrackId = @ID; DELETE FROM tracks WHERE TrackId = @ID;"
        },
        "Genre": {
            "Create": "INSERT INTO genres (Name) VALUES (@Name) RETURNING GenreId AS ID",
            "Read": "SELECT GenreId AS ID, Name FROM genres WHERE GenreId = ?@ID",
            "Update": "UPDATE genres SET Name = @Name WHERE GenreId = @ID",
            "Delete": "DELETE FROM genres WHERE GenreId = @ID;"
        },
        "MediaType": {
            "Create": "INSERT INTO media_types (Name) VALUES (@Name) RETURNING MediaTypeId AS ID",
            "Read": "SELECT MediaTypeId AS ID, Name FROM media_types WHERE MediaTypeId = ?@ID",
            "Update": "UPDATE media_types SET Name = @Name WHERE MediaTypeId = @ID",
            "Delete": "DELETE FROM media_types WHERE MediaTypeId = @ID;"
        },
        "Employee": {
            "Create": "INSERT INTO employees (LastName, FirstName, Title, ReportsTo, BirthDate, HireDate, Address, City, State, Country, PostalCode, Phone, Fax, Email) VALUES (@LastName, @FirstName, @Title, @ReportsTo, @BirthDate, @HireDate, @Address, @City, @State, @Country, @PostalCode, @Phone, @Fax, @Email) RETURNING EmployeeId AS ID",
            "Read": "SELECT e.EmployeeId AS ID, e.FirstName, e.LastName, e.Title, e.BirthDate, e.HireDate, e.Address, e.City, e.State, e.Country, e.PostalCode, e.Phone, e.Fax, e.Email, /*GetAll*/e.ReportsTo AS ManagerID&, m.FirstName AS ManagerFirstName&, m.LastName AS ManagerLastName&, m.Title AS ManagerTitle FROM employees e /*GetAll*/LEFT JOIN employees m ON e.ReportsTo = m.EmployeeId WHERE e.EmployeeId = ?@ID AND e.ReportsTo = ?@ReportsTo",
            "Update": "UPDATE employees SET LastName = ?@LastName, FirstName = ?@FirstName, Title = ?@Title, ReportsTo = ?@ReportsTo, BirthDate = ?@BirthDate, HireDate = ?@HireDate, Address = ?@Address, City = ?@City, State = ?@State, Country = ?@Country, PostalCode = ?@PostalCode, Phone = ?@Phone, Fax = ?@Fax, Email = ?@Email WHERE EmployeeId = @ID",
            "Delete": "UPDATE employees SET ReportsTo = NULL WHERE ReportsTo = @ID; UPDATE customers SET SupportRepId = NULL WHERE SupportRepId = @ID; DELETE FROM employees WHERE EmployeeId = @ID;"
        },
        "Customer": {
            "Create": "INSERT INTO customers (FirstName, LastName, Company, Address, City, State, Country, PostalCode, Phone, Fax, Email, SupportRepId) VALUES (@FirstName, @LastName, @Company, @Address, @City, @State, @Country, @PostalCode, @Phone, @Fax, @Email, @SupportRepId) RETURNING CustomerId AS ID",
            "Read": "SELECT c.CustomerId AS ID, c.FirstName, c.LastName, c.Company, c.Address, c.City, c.State, c.Country, c.PostalCode, c.Phone, c.Fax, c.Email, c.SupportRepId AS SupportRepID, e.FirstName AS SupportRepFirstName, e.LastName AS SupportRepLastName, e.Title AS SupportRepTitle FROM customers c LEFT JOIN employees e ON c.SupportRepId = e.EmployeeId WHERE c.CustomerId = ?@ID",
            "Update": "UPDATE customers SET FirstName = ?@FirstName, LastName = ?@LastName, Company = ?@Company, Address = ?@Address, City = ?@City, State = ?@State, Country = ?@Country, PostalCode = ?@PostalCode, Phone = ?@Phone, Fax = ?@Fax, Email = ?@Email, SupportRepId = ?@SupportRepId WHERE CustomerId = @ID",
            "Delete": "DELETE FROM invoice_items WHERE InvoiceId IN (SELECT InvoiceId FROM invoices WHERE CustomerId = @ID); DELETE FROM invoices WHERE CustomerId = @ID; DELETE FROM customers WHERE CustomerId = @ID;"
        },
        "Invoice": {
            "Create": "INSERT INTO invoices (CustomerId, InvoiceDate, BillingAddress, BillingCity, BillingState, BillingCountry, BillingPostalCode, Total) VALUES (@CustomerId, @InvoiceDate, @BillingAddress, @BillingCity, @BillingState, @BillingCountry, @BillingPostalCode, @Total) RETURNING InvoiceId AS ID",
            "Read": "SELECT i.InvoiceId AS ID, i.InvoiceDate, i.Total, i.BillingAddress, i.BillingCity, i.BillingState, i.BillingCountry, i.BillingPostalCode, /*GetAll*/i.CustomerId AS CustomerID&, c.FirstName AS CustomerFirstName&, c.LastName AS CustomerLastName&, c.Company AS CustomerCompany&, c.Address AS CustomerAddress&, c.City AS CustomerCity&, c.State AS CustomerState&, c.Country AS CustomerCountry&, c.PostalCode AS CustomerPostalCode&, c.Phone AS CustomerPhone&, c.Fax AS CustomerFax&, c.Email AS CustomerEmail&, c.SupportRepId AS CustomerSupportRepID&, e.FirstName AS CustomerSupportRepFirstName&, e.LastName AS CustomerSupportRepLastName&, e.Title AS CustomerSupportRepTitle FROM invoices i /*GetAll*/INNER JOIN customers c ON i.CustomerId = c.CustomerId /*GetAll*/LEFT JOIN employees e ON c.SupportRepId = e.EmployeeId WHERE i.InvoiceId = ?@ID AND i.CustomerId = ?@CustomerID",
            "Update": "UPDATE invoices SET CustomerId = ?@CustomerId, InvoiceDate = ?@InvoiceDate, BillingAddress = ?@BillingAddress, BillingCity = ?@BillingCity, BillingState = ?@BillingState, BillingCountry = ?@BillingCountry, BillingPostalCode = ?@BillingPostalCode, Total = ?@Total WHERE InvoiceId = @ID",
            "Delete": "DELETE FROM invoice_items WHERE InvoiceId = @ID; DELETE FROM invoices WHERE InvoiceId = @ID;"
        },
        "InvoiceLine": {
            "Create": "INSERT INTO invoice_items (InvoiceId, TrackId, UnitPrice, Quantity) VALUES (@InvoiceId, @TrackId, @UnitPrice, @Quantity) RETURNING InvoiceLineId AS ID",
            "Read": "SELECT ii.InvoiceLineId AS ID, ii.UnitPrice, ii.Quantity, ii.InvoiceId AS InvoiceID, ii.TrackId AS TrackID, t.Name AS TrackName FROM invoice_items ii INNER JOIN tracks t ON ii.TrackId = t.TrackId WHERE ii.InvoiceLineId = ?@ID AND ii.InvoiceId = ?@InvoiceID",
            "Update": "UPDATE invoice_items SET InvoiceId = ?@InvoiceId, TrackId = ?@TrackId, UnitPrice = ?@UnitPrice, Quantity = ?@Quantity WHERE InvoiceLineId = @ID",
            "Delete": "DELETE FROM invoice_items WHERE InvoiceLineId = @ID;"
        }
    }
}
